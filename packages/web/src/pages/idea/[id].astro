---
import Layout from '../../layouts/Layout.astro'

// import Header from '@components/header.astro'
// import Hero from '@components/hero.astro'
// import Visuals from '@components/visuals.astro'
// import { getMusingByIdOrFriendlyId } from '@statmuse/core/musing'
// import { rgbToHex } from '@statmuse/core/color'
// import { getHeroProps } from '@lib/gamera'
// import { title } from '@lib/meta'
// import { imageForgeUrl } from '@statmuse/core/path'
// import type { AnalyticsPageviewProperties } from '@lib/analytics'
// import { Caching } from '@lib/caching'

const id = Astro.params.id as string
console.log('id: ', id)
// const musing = await getMusingByIdOrFriendlyId(id).executeTakeFirst()
// if (!musing) return new Response(null, { status: 404, statusText: 'Not found' })

// const query = musing.text ?? ''
// const conversationToken = musing.input_conversation_token
// const preferredDomain = musing.domain.toLowerCase()

// const foreground = musing.foreground_rgba
//   ? rgbToHex(musing.foreground_rgba)
//   : undefined
// const background = musing.background_rgba
//   ? rgbToHex(musing.background_rgba)
//   : undefined

// const heroProps = getHeroProps({ imageAlt: query, musing })

// const meta = {
//   title: title(query),
//   description: musing.text_plain ?? '',
//   facebook: {
//     imageUrl: musing.image_url
//       ? imageForgeUrl({
//           url: musing.image_url,
//           bgColor: background,
//           type: 'facebook',
//         })
//       : undefined,
//   },
//   twitter: {
//     imageUrl: musing.image_url
//       ? imageForgeUrl({
//           url: musing.image_url,
//           bgColor: background,
//           type: 'twitter',
//         })
//       : undefined,
//   },
// }

// Caching.swr(Astro)
---

<Layout title={'meta.title'}>
  <h1>hello</h1>
</Layout>
